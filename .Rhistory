var teams = cluster.getteams();
var c = ' marker-cluster-';
if (teams < 30) {
c += 'large';
} else if (teams < 70) {
c += 'medium';
} else {
c += 'small';
}
return new L.DivIcon({ html: '<div><span>' + teams + '</span></div>', className: 'marker-cluster' + c, iconSize: new L.Point(40, 40) });
}"))
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addCircleMarkers(data = test,
weight = 3,
radius=10,
color="#7b297c",
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions())%>%
addCircleMarkers(data = sub,
weight = 3,
radius=10,
color="#7b297c",
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions())%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
#test maps
#create legends icon
legendsicon <- makeIcon(
iconUrl = here("data", "legends.png"),
iconWidth = 50, iconHeight = 30)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions(freezeAtZoom = 3))%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
) -> map
#addPopupImages(sub$logo, group = "Teams", width = 100, height = 100)%>%
#library(htmlwidgets)
#saveWidget(map, file="legendsmap.html")
#test maps
#create legends icon
legendsicon <- makeIcon(
iconUrl = here("data", "legends.png"),
iconWidth = 50, iconHeight = 30)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions(freezeAtZoom = 3))%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
#addPopupImages(sub$logo, group = "Teams", width = 100, height = 100)%>%
#library(htmlwidgets)
#saveWidget(map, file="legendsmap.html")
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions(freezeAtZoom = 3))%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
#test maps
#create legends icon
legendsicon <- makeIcon(
iconUrl = here("data", "legends.png"),
iconWidth = 50, iconHeight = 30)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions())%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
#addPopupImages(sub$logo, group = "Teams", width = 100, height = 100)%>%
#library(htmlwidgets)
#saveWidget(map, file="legendsmap.html")
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
clusterOptions = markerClusterOptions())%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
#create team icon
teamicon <- makeIcon(
iconUrl = here("data", "teamicon.png"),
iconWidth = 40, iconHeight = 40
)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions()
)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions()
)
#create team icon
teamicon <- makeIcon(
iconUrl = here("data", "teamicon.png"),
iconWidth = 40, iconHeight = 40
)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions()
)
#create team icon
teamicon <- makeIcon(
iconUrl = here("data", "teamicon.png"),
iconWidth = 45, iconHeight = 40
)
#create team icon
teamicon <- makeIcon(
iconUrl = here("data", "teamicon.png"),
iconWidth = 45, iconHeight = 40
)
#create team icon
teamicon <- makeIcon(
iconUrl = here("data", "teamicon.png"),
iconWidth = 40, iconHeight = 40
)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions()
)
#create comp icon
compicon <- makeIcon(
iconUrl = here("data", "compicon.png"),
iconWidth = 40, iconHeight = 40
)
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = legendsicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
icon = compicon,
clusterOptions = markerClusterOptions())
leaflet() %>%
addProviderTiles(providers$CartoDB.Positron) %>%
addMarkers(data = teams,
popup = paste("<b>Team:</b> ", teams$team, "<br>",
"<b>University:</b> ", teams$university, "<br>",
"<b>Type:</b> ", teams$type1, "<br>",
"<b>2020 Status:</b> ",
teams$active, "<br>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions()
)%>%
addMarkers(data = legends,
~lon, ~lat,
popup = paste("<b>Competition:</b> ", legends$name, "<br>",
"<b>2020 Location:</b> ", legends$Location, "<br>",
"<b>2020 Affiliation:</b> ",
legends$bid_stat, "<br>",
"<a href='",
compsite$site1,
"' target='_blank'>",
"Competition Page</a>"),
icon = compicon,
group = "Legends PC")%>%
addMarkers(data = test,
popup = paste("<b>Competition:</b> ", test$name, "<br>",
"<b>2020 Location:</b> ", test$Location, "<br>",
"<b>2020 Affiliation:</b> ",
test$bid_stat, "<br>"),
group = "Other Competitions",
icon = compicon,
clusterOptions = markerClusterOptions())%>%
addMarkers(data = sub,
popup = paste("<b>Team:</b> ", sub$team, "<br>",
"<b>University:</b> ", sub$university, "<br>",
"<b>Type:</b> ", sub$type1, "<br>",
"<b>2020 Status:</b> ",
sub$active, "<br>",
"<a href='",
sub$site,
"' target='_blank'>",
"Team Page</a>"),
group = "Teams",
icon = teamicon,
clusterOptions = markerClusterOptions())%>%
addLayersControl(
overlayGroups =c("Legends PC", "Other Competitions", "Teams"),
options = layersControlOptions(collapsed=FALSE)
)
